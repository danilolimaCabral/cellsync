# CellSync - Lista de Funcionalidades

## Estrutura e Configura√ß√£o Inicial
- [x] Configurar autentica√ß√£o local (usu√°rio e senha) sem OAuth Manus
- [x] Criar estrutura de banco de dados completa
- [x] Configurar sistema de permiss√µes e roles (admin, vendedor, t√©cnico, etc)

## M√≥dulo de Vendas (PDV)
- [x] Interface de PDV intuitiva
- [ ] Emiss√£o de cupons fiscais e NF-e
- [ ] Controle autom√°tico de comiss√µes por vendedor
- [x] M√∫ltiplas formas de pagamento (dinheiro, cart√£o, PIX)
- [x] Sistema de descontos progressivos
- [ ] Hist√≥rico de vendas com filtros avan√ßados

## Controle de Estoque com IMEI
- [x] Rastreamento individual por IMEI
- [x] Alertas autom√°ticos de baixo estoque
- [ ] Invent√°rio peri√≥dico com relat√≥rios de diverg√™ncias
- [ ] Movimenta√ß√µes de entrada e sa√≠da detalhadas
- [ ] Transfer√™ncia entre filiais
- [ ] Sistema de reservas de produtos

## Gest√£o de Ordem de Servi√ßo
- [x] Abertura de OS com diagn√≥stico detalhado
- [x] Controle de status em tempo real
- [ ] Gest√£o de pe√ßas utilizadas
- [ ] Or√ßamentos autom√°ticos com aprova√ß√£o do cliente
- [ ] Notifica√ß√µes via SMS ou WhatsApp
- [ ] Hist√≥rico completo de reparos por cliente

## Financeiro Integrado
- [x] Fluxo de caixa em tempo real
- [x] Contas a pagar e receber
- [ ] Concilia√ß√£o banc√°ria autom√°tica
- [ ] Relat√≥rios gerenciais personalizados
- [x] Controle de centros de custo
- [ ] Integra√ß√£o com bancos para pagamentos

## CRM Avan√ßado
- [x] Ficha completa do cliente com hist√≥rico
- [ ] Segmenta√ß√£o avan√ßada de clientes
- [ ] Campanhas de marketing direcionadas
- [x] Programa de fidelidade
- [ ] An√°lise de comportamento de compra

## Business Intelligence (BI)
- [ ] Dashboards personaliz√°veis em tempo real
- [ ] KPIs e m√©tricas de desempenho
- [ ] Relat√≥rios de vendas, estoque e finan√ßas
- [ ] An√°lises preditivas de demanda
- [ ] Comparativos de per√≠odos
- [ ] Exporta√ß√£o de relat√≥rios (Excel/PDF)

## Integra√ß√µes Futuras (Prepara√ß√£o)
- [ ] Estrutura para integra√ß√£o com Mercado Livre
- [ ] Estrutura para integra√ß√£o com Amazon
- [ ] Estrutura para integra√ß√£o com Shopee
- [ ] API aberta para integra√ß√µes externas

## Seguran√ßa e Conformidade
- [ ] Criptografia de dados
- [ ] Backups autom√°ticos
- [ ] Conformidade com LGPD
- [ ] SSL 256-bit
- [ ] Logs de auditoria

## Interface e UX
- [x] Design responsivo para desktop e mobile
- [x] Tema claro/escuro
- [x] Dashboard principal com vis√£o geral
- [x] Navega√ß√£o intuitiva entre m√≥dulos

## M√≥dulo Financeiro - Nova Implementa√ß√£o
- [x] Criar estrutura de dados para transa√ß√µes financeiras
- [x] Implementar backend para contas a pagar
- [x] Implementar backend para contas a receber
- [x] Criar interface de Contas a Pagar com filtros
- [x] Criar interface de Contas a Receber com filtros
- [x] Desenvolver dashboard de Fluxo de Caixa
- [x] Adicionar gr√°ficos de entrada/sa√≠da
- [x] Implementar categoriza√ß√£o (OPEX, Custo Fixo, Custo Vari√°vel)
- [ ] Criar funcionalidade de Concilia√ß√£o Banc√°ria
- [ ] Adicionar relat√≥rios financeiros export√°veis

## M√≥dulo de Relat√≥rios e BI - Nova Implementa√ß√£o
- [x] Criar queries de backend para estat√≠sticas de vendas
- [x] Implementar queries para an√°lise de produtos
- [x] Criar queries para performance de vendedores
- [x] Implementar queries para m√©tricas de OS
- [x] Criar queries para KPIs financeiros
- [x] Desenvolver dashboard principal com cards de KPIs
- [x] Implementar gr√°fico de vendas por per√≠odo (Recharts)
- [x] Criar gr√°fico de produtos mais vendidos
- [x] Implementar gr√°fico de performance de vendedores
- [x] Criar gr√°fico de status de OS
- [x] Implementar gr√°fico de fluxo de caixa
- [x] Adicionar filtros de per√≠odo (dia, semana, m√™s, ano)
- [x] Criar relat√≥rio detalhado de vendas
- [x] Implementar relat√≥rio de estoque
- [x] Criar relat√≥rio financeiro consolidado
- [ ] Adicionar funcionalidade de exporta√ß√£o para Excel
- [ ] Implementar exporta√ß√£o para PDF
- [x] Criar testes unit√°rios para queries de relat√≥rios

## Funcionalidades Pendentes - Implementa√ß√£o Priorit√°ria
- [x] Adicionar exporta√ß√£o de relat√≥rios para Excel
- [x] Adicionar exporta√ß√£o de relat√≥rios para PDF
- [x] Criar hist√≥rico de vendas com filtros avan√ßados
- [x] Implementar movimenta√ß√µes de estoque detalhadas
- [x] Adicionar gest√£o de pe√ßas utilizadas em OS
- [x] Criar m√≥dulo de Configura√ß√µes do sistema
- [ ] Implementar sistema de notifica√ß√µes autom√°ticas
- [x] Adicionar controle autom√°tico de comiss√µes por vendedor
- [x] Atualizar PDV com integra√ß√µes completas (estoque, clientes, financeiro)
- [x] Adicionar baixa autom√°tica de estoque no PDV
- [x] Implementar cadastro r√°pido de cliente no PDV
- [x] Adicionar impress√£o de comprovante no PDV
- [x] Criar interface completa do PDV
- [x] Criar componente de busca de produtos com autocompletar
- [x] Desenvolver carrinho interativo com c√°lculos em tempo real
- [x] Adicionar sele√ß√£o de forma de pagamento no PDV
- [x] Implementar finaliza√ß√£o de venda com todas as integra√ß√µes
- [x] Adicionar atalhos de teclado para agilizar opera√ß√£o
- [ ] Criar funcionalidade de Concilia√ß√£o Banc√°ria

## Movimenta√ß√µes de Estoque - Nova Implementa√ß√£o
- [x] Criar tabela de movimenta√ß√µes no banco de dados
- [x] Implementar backend para registro de movimenta√ß√µes
- [x] Criar tipos de movimenta√ß√£o (entrada, sa√≠da, ajuste, transfer√™ncia)
- [x] Desenvolver interface de registro de movimenta√ß√µes
- [x] Criar p√°gina de hist√≥rico de movimenta√ß√µes com filtros
- [x] Implementar rastreamento por IMEI
- [x] Adicionar relat√≥rio de invent√°rio com diverg√™ncias
- [x] Criar testes para movimenta√ß√µes de estoque

## Gest√£o de Pe√ßas em Ordem de Servi√ßo - Nova Implementa√ß√£o
- [x] Verificar estrutura de dados para pe√ßas em OS no schema
- [x] Implementar backend para adicionar/remover pe√ßas em OS
- [x] Criar query para listar pe√ßas utilizadas por OS
- [x] Desenvolver interface de sele√ß√£o de pe√ßas na OS
- [x] Implementar c√°lculo autom√°tico de custo total de pe√ßas
- [x] Adicionar baixa autom√°tica no estoque ao finalizar OS
- [x] Criar relat√≥rio de pe√ßas utilizadas por t√©cnico
- [x] Implementar hist√≥rico de pe√ßas por per√≠odo
- [x] Criar testes para gest√£o de pe√ßas em OS

## Sistema de Comiss√µes de Vendedores - Nova Implementa√ß√£o
- [x] Criar tabelas para comiss√µes e regras de comiss√£o no schema
- [x] Implementar backend para configura√ß√£o de regras de comiss√£o
- [x] Criar c√°lculo autom√°tico de comiss√µes por venda
- [x] Implementar regras de percentual fixo sobre vendas
- [x] Adicionar regras de metas progressivas (escalonadas)
- [x] Criar regras de b√¥nus por produto espec√≠fico
- [ ] Desenvolver interface de configura√ß√£o de regras por vendedor
- [ ] Criar relat√≥rio de comiss√µes por per√≠odo
- [ ] Implementar detalhamento de comiss√µes por venda
- [x] Adicionar aprova√ß√£o de comiss√µes pelo gerente
- [x] Integrar com m√≥dulo financeiro para pagamento
- [ ] Criar testes para c√°lculo de comiss√µes

## M√≥dulos Pendentes - Implementa√ß√£o Final

### Gest√£o de Comiss√µes - Interface
- [x] Criar p√°gina de Gest√£o de Comiss√µes
- [x] Implementar formul√°rio de configura√ß√£o de regras por vendedor
- [x] Adicionar sele√ß√£o de tipo de comiss√£o (percentual, meta, b√¥nus)
- [x] Criar relat√≥rio de comiss√µes por per√≠odo com filtros
- [x] Implementar aprova√ß√£o individual de comiss√µes pendentes
- [x] Adicionar dashboard com ranking de vendedores
- [x] Criar### M√≥dulo de Configura√ß√µes do Sistema
- [x] Criar p√°gina de Configura√ß√µes
- [x] Implementar gest√£o completa de usu√°rios (CRUD)
- [ ] Adicionar altera√ß√£o de senhas de usu√°rios
- [x] Implementar ativa√ß√£o/desativa√ß√£o de usu√°rios
- [x] Criar gest√£o de permiss√µes por role
- [x] Adicionar par√¢metros gerais do sistema (moeda, timezone, impostos)
- [ ] Implementar personaliza√ß√£o de categorias financeiras
- [ ] Criar logs de auditoria com hist√≥rico de altera√ß√µestom√°ticas
- [ ] Criar estrutura de dados para notifica√ß√µes
- [ ] Implementar backend de notifica√ß√µes
- [ ] Criar central de notifica√ß√µes in-app
- [ ] Adicionar alertas de estoque baixo (<15 unidades)
- [ ] Implementar alertas de OS com prazo vencido
- [ ] Adicionar alertas de contas a pagar pr√≥ximas do vencimento
- [ ] Criar notifica√ß√µes de metas de vendas atingidas
- [ ] Implementar notifica√ß√µes de anivers√°rios de clientes
- [ ] Adicionar hist√≥rico de notifica√ß√µes lidas/n√£o lidas

## M√≥dulo de Emiss√£o de NF-e - Implementa√ß√£o Priorit√°ria
- [x] Criar tabelas para NF-e no schema (invoices, invoiceItems)
- [x] Implementar valida√ß√£o de CNPJ/CPF
- [x] Criar c√°lculo autom√°tico de impostos (ICMS, PIS, COFINS, IPI)
- [x] Implementar backend para emiss√£o de NF-e
- [ ] Criar armazenamento de XMLs no S3
- [ ] Desenvolver interface de emiss√£o manual de NF-e
- [x] Criar p√°gina de gest√£o de notas fiscais
- [x] Implementar filtros por status (Emitida, Cancelada, Inutilizada)
- [ ] Adicionar consulta de status na SEFAZ
- [ ] Integrar emiss√£o autom√°tica no PDV
- [x] Implementar cancelamento de NF-e
- [ ] Adicionar download de XML e DANFE
- [ ] Criar reemiss√£o de NF-e
- [x] Implementar testes para c√°lculo de impostos
- [x] Criar listagem de NF-e com cards de resumo
- [x] Implementar dialog de visualiza√ß√£o detalhada
- [ ] Adicionar formul√°rio de emiss√£o manual completo
- [x] Criar funcionalidade de cancelamento com motivo
- [ ] Preparar gera√ß√£o de XML e DANFE para download

## Integra√ß√£o de NF-e no PDV - Nova Implementa√ß√£o
- [x] Adicionar checkbox de emiss√£o de NF-e no PDV
- [x] Implementar pr√©-preenchimento autom√°tico de dados do cliente
- [x] Criar valida√ß√£o de CPF/CNPJ do cliente no PDV
- [x] Adicionar pr√©-preenchimento autom√°tico de produtos e valores
- [x] Integrar emiss√£o de NF-e com finaliza√ß√£o de venda
- [x] Criar tratamento de erros de emiss√£o fiscal
- [x] Adicionar feedback visual de sucesso/erro de emiss√£o
- [x] Implementar op√ß√£o de emitir NF-e posteriormente (checkbox opcional)
- [x] Criar testes para integra√ß√£o PDV + NF-e (17 testes passando)

## Download de XML e DANFE - Nova Implementa√ß√£o
- [x] Instalar depend√™ncias (qrcode, xml-js)
- [x] Criar fun√ß√£o de gera√ß√£o de XML da NF-e conforme layout SEFAZ
- [x] Implementar gera√ß√£o de QR Code para consulta da nota
- [x] Criar fun√ß√£o de gera√ß√£o de DANFE em PDF com jsPDF
- [x] Adicionar formata√ß√£o completa do DANFE (cabe√ßalho, itens, impostos, totais)
- [x] Implementar endpoint de download de XML no backend
- [x] Implementar endpoint de download de DANFE no backend
- [x] Adicionar bot√µes de download na interface de NF-e
- [x] Testar download de XML
- [x] Testar gera√ß√£o e download de DANFE
- [x] Criar testes unit√°rios para gera√ß√£o de XML e DANFE (5 testes passando)

## Bugs Reportados
- [x] Corrigir redirecionamento ap√≥s login bem-sucedido (mostra "Login com sucesso" mas n√£o entra no sistema) - RESOLVIDO: Faltava middleware cookie-parser no servidor Express + nome do cookie incorreto no context.ts

## Finaliza√ß√£o do Sistema - Pend√™ncias Priorit√°rias
- [x] Implementar backend de notifica√ß√µes autom√°ticas (alertas de estoque, OS, contas a pagar)
- [ ] Criar interface frontend de notifica√ß√µes in-app
- [ ] Criar script de seed de dados para popular banco com exemplos
- [ ] Adicionar altera√ß√£o de senhas de usu√°rios
- [ ] Implementar formul√°rio de emiss√£o manual de NF-e
- [ ] Criar armazenamento de XMLs no S3
- [ ] Adicionar interface de configura√ß√£o de regras de comiss√£o
- [ ] Implementar relat√≥rio de comiss√µes por per√≠odo
- [ ] Criar testes para c√°lculo de comiss√µes

## Script de Seed de Dados
- [x] Criar script de seed com dados de exemplo
- [x] Popular usu√°rios (admin, vendedores, t√©cnicos)
- [x] Popular produtos (celulares, acess√≥rios, pe√ßas)
- [x] Popular clientes com hist√≥rico
- [ ] Popular vendas com comiss√µes (script b√°sico criado)
- [ ] Popular OS com pe√ßas utilizadas (script b√°sico criado)
- [ ] Popular contas a pagar e receber (script b√°sico criado)
- [ ] Popular NF-e emitidas (script b√°sico criado)
- [x] Criar script r√°pido para criar usu√°rio admin
- [x] Documentar uso do script

## Recibo de Venda Moderno
- [x] Pesquisar designs modernos de recibos
- [x] Criar fun√ß√£o de gera√ß√£o de recibo em PDF
- [x] Adicionar cabe√ßalho com logo e dados da loja
- [x] Incluir informa√ß√µes da venda (n√∫mero, data, vendedor)
- [x] Listar produtos com SKU, descri√ß√£o, IMEI
- [x] Destacar informa√ß√µes de garantia (box amarelo destacado)
- [x] Adicionar QR Code para consulta online
- [x] Integrar bot√£o de impress√£o no PDV
- [ ] Testar gera√ß√£o de recibo com venda real

## Cadastro de Smartphones e Tablets (Xiaomi, Samsung, LG)
- [x] Criar script para cadastrar modelos Xiaomi (14, 13, 12 series)
- [x] Criar script para cadastrar modelos POCO
- [x] Criar script para cadastrar modelos Redmi e Redmi Note
- [x] Criar script para cadastrar modelos Samsung Galaxy S
- [x] Criar script para cadastrar modelos Samsung Galaxy Z (dobr√°veis)
- [x] Criar script para cadastrar modelos Samsung Galaxy A, M e F
- [x] Criar script para cadastrar tablets Samsung Galaxy Tab
- [x] Criar script para cadastrar modelos LG (Wing, Velvet, G, V series)
- [x] Criar script para cadastrar modelos LG linha K e Q
- [x] Criar script para cadastrar tablets LG G Pad
- [x] Executar scripts e verificar cadastros (127 produtos cadastrados com sucesso!)

## Sistema de Venda Atacado e Varejo
- [x] Adicionar campo de pre√ßo de atacado nos produtos
- [x] Criar configura√ß√£o de quantidade m√≠nima para atacado
- [x] Implementar sele√ß√£o de tipo de venda no PDV (atacado/varejo)
- [x] Ajustar c√°lculo de pre√ßo baseado no tipo de venda
- [x] Atualizar recibo para mostrar tipo de venda
- [ ] Criar relat√≥rio de vendas por tipo (atacado/varejo)

## Busca por IMEI no PDV
- [x] Atualizar placeholder do campo de busca para "Digite o nome ou IMEI do iPhone"
- [x] Implementar busca por IMEI exato no backend
- [x] Implementar busca por IMEI parcial (LIKE)
- [x] Priorizar resultados por IMEI sobre nome
- [x] Funcionalidade implementada e pronta para uso

## Lupa + Campo IMEI no Formul√°rio
- [x] Adicionar √≠cone de lupa no campo Nome do Produto
- [x] Criar modal de busca de modelos cadastrados
- [x] Implementar autocomplete de modelos em tempo real
- [x] Preencher automaticamente Nome, Categoria, Marca, Modelo
- [x] Manter campo SKU (n√£o remover)
- [x] Adicionar campo IMEI separado
- [x] Validar IMEI (15 d√≠gitos obrigat√≥rios)
- [x] Filtro apenas numeros no campo IMEI
- [ ] Criar endpoint GET /produtos/modelos (n√£o necess√°rio - usando lista local)
- [ ] Criar endpoint GET /estoque/imei (futuro - autocomplete de IMEI)

## Sistema Atacado/Varejo - Implementa√ß√£o
- [x] Criar migrations para adicionar campos wholesalePrice e minWholesaleQty em products
- [x] Criar migration para adicionar saleType e appliedDiscount em sales
- [x] Criar migration para adicionar unitPriceType em saleItems
- [ ] Criar tabela priceHistory para auditoria (futuro)
- [ ] Adicionar procedures tRPC para CRUD de pre√ßos de atacado
- [x] Implementar l√≥gica de c√°lculo de pre√ßo (atacado vs varejo)
- [x] Adicionar toggle de tipo de venda no PDV (bot√µes Varejo/Atacado)
- [x] Implementar c√°lculo autom√°tico no carrinho (recalcula ao adicionar/alterar quantidade)
- [x] Adicionar campos "Pre√ßo Atacado" e "Quantidade M√≠nima" no formul√°rio
- [x] Implementar valida√ß√£o: pre√ßo atacado < pre√ßo varejo
- [x] Adicionar pr√©-visualiza√ß√£o de economia
- [x] Atualizar recibo PDF com badge de tipo de venda
- [x] Adicionar linha "Voc√™ economizou" no recibo
- [x] Implementar indicador visual de economia no carrinho
- [x] Adicionar alerta de quantidade m√≠nima para atacado
- [ ] Criar relat√≥rio de vendas por tipo (atacado/varejo) (futuro)
- [ ] Implementar atualiza√ß√£o em massa de pre√ßos (futuro)
- [x] Criar testes unit√°rios para c√°lculo de pre√ßos (6 testes passando)
- [x] Testar fluxo completo de venda atacado/varejo

## Importa√ß√£o de Dados dos Arquivos Excel
- [x] Analisar estrutura do arquivo ClientesTrue.xlsx
- [x] Identificar campos faltantes no schema
- [x] Adicionar campos: Grade, Almoxarifado, Fornecedor, Bateria, Defeito, Apto Venda
- [x] Adicionar campos de data de entrada
- [x] Adicionar campos em customers (fantasyName, rg, stateRegistration, phone2, email2)
- [x] Atualizar schema do banco de dados
- [x] Criar script de importa√ß√£o unificado
- [x] Executar importa√ß√£o e validar dados
- [x] Importados: 1.100 clientes, 204 produtos, 88 itens de estoque

## Relat√≥rio de Estoque Avan√ßado
- [ ] Criar p√°gina de relat√≥rio com todos os campos (Data Entrada, IMEI, Produto, QTD, Custo, Varejo, Atacado, Grade, Almoxarifado, Fornecedor, Bateria, Defeito, Apto Venda, Dias em Estoque)
- [ ] Implementar c√°lculo autom√°tico de "Dias em Estoque"
- [ ] Adicionar filtros: Data, Fornecedor, Almoxarifado, Grade, Apto Venda, Defeito
- [ ] Adicionar painel de m√©tricas (Total em estoque, Valor total, M√©dia de dias)
- [ ] Implementar exporta√ß√£o para Excel/PDF
- [ ] Adicionar ordena√ß√£o por colunas

## Comprovante de Venda Completo
- [ ] Adicionar se√ß√£o de cabe√ßalho personaliz√°vel (Nome Empresa, CNPJ, Endere√ßo, Logo)
- [ ] Adicionar tabela de produtos de entrada/troca
- [ ] Adicionar campos de forma de pagamento detalhada
- [ ] Adicionar se√ß√£o de termos e condi√ß√µes
- [ ] Implementar QR Code para consulta online
- [ ] Adicionar campo de observa√ß√µes

## Contas a Pagar com Overview
- [ ] Criar painel com cart√µes coloridos (Vencidas, Vencendo Hoje, A Vencer, Pagas)
- [ ] Implementar c√°lculo de totais (Custo Total, Valor Pago, Saldo em Aberto)
- [ ] Adicionar filtros por data, fornecedor, status
- [ ] Implementar pagamento em massa
- [ ] Adicionar alertas autom√°ticos de vencimento
- [ ] Implementar anexo de comprovantes

## Gest√£o de Comiss√£o com Metas
- [ ] Criar sistema de metas semanais/mensais
- [ ] Implementar ranking de vendedores
- [ ] Adicionar painel de performance
- [ ] Criar fluxo de aprova√ß√£o (vendedor ‚Üí gerente ‚Üí financeiro)
- [ ] Implementar gamifica√ß√£o com badges
- [ ] Adicionar gr√°ficos de evolu√ß√£o


## Sistema de Notifica√ß√µes In-App - Implementa√ß√£o Sprint 1
- [x] Criar tabela notifications no schema
- [x] Implementar backend para criar notifica√ß√µes
- [x] Criar query para listar notifica√ß√µes do usu√°rio
- [x] Implementar marcar como lida
- [x] Criar componente NotificationBell no header
- [x] Implementar dropdown de notifica√ß√µes
- [x] Adicionar badge de contador de n√£o lidas
- [x] Criar p√°gina de central de notifica√ß√µes
- [x] Implementar alertas autom√°ticos de estoque baixo
- [x] Implementar alertas de OS vencidas
- [x] Implementar alertas de contas a pagar pr√≥ximas
- [x] Criar testes para sistema de notifica√ß√µes (10 testes passando)


## Relat√≥rio Avan√ßado de Estoque - Implementa√ß√£o Sprint 1
- [x] Criar query backend para relat√≥rio completo de estoque
- [x] Implementar c√°lculo de "Dias em Estoque"
- [x] Adicionar endpoints tRPC (advancedStock, stockMetrics, filterOptions)
- [ ] Criar p√°gina de Relat√≥rio Avan√ßado de Estoque
- [ ] Adicionar filtros: Data, Fornecedor, Almoxarifado, Grade, Apto Venda, Defeito
- [ ] Implementar tabela com todos os campos (Data Entrada, IMEI, Produto, QTD, Custo, Varejo, Atacado, Grade, Almoxarifado, Fornecedor, Bateria, Defeito, Apto Venda, Dias em Estoque)
- [ ] Adicionar painel de m√©tricas (Total em estoque, Valor total, M√©dia de dias)
- [ ] Implementar ordena√ß√£o por colunas
- [ ] Adicionar exporta√ß√£o para Excel
- [ ] Adicionar exporta√ß√£o para PDF
- [ ] Criar testes para relat√≥rio avan√ßado


## Melhorias em Contas a Pagar - Implementa√ß√£o
- [x] Criar query backend para m√©tricas de contas a pagar
- [x] Implementar fun√ß√£o de pagamento em massa
- [x] Criar cart√µes coloridos de status (Vencidas, Vencendo Hoje, A Vencer, Pagas)
- [x] Adicionar painel de totais (Custo Total, Valor Pago, Saldo em Aberto)
- [x] Implementar sele√ß√£o m√∫ltipla de contas
- [x] Criar modal de confirma√ß√£o de pagamento em massa
- [x] Adicionar filtros aprimorados (clique nos cart√µes)
- [x] Criar testes para pagamento em massa (9 testes passando)


## Melhorias de Navega√ß√£o - Dashboard
- [x] Transformar cart√µes do Dashboard em atalhos clic√°veis
- [x] Adicionar navega√ß√£o para PDV (Vendas)
- [x] Adicionar navega√ß√£o para Estoque
- [x] Adicionar navega√ß√£o para Ordem de Servi√ßo
- [x] Adicionar navega√ß√£o para Financeiro
- [x] Adicionar navega√ß√£o para Relat√≥rios
- [x] Adicionar se√ß√£o de A√ß√µes R√°pidas
- [x] Validar emiss√£o de NF-e completa (22 testes passando)
- [x] Testar gera√ß√£o de recibo de venda (6 testes passando)


## Corre√ß√£o de Bugs
- [x] Corrigir erro de limit > 100 na p√°gina de Ordem de Servi√ßo
- [x] Corrigir erro de limit > 100 na p√°gina de Movimenta√ß√µes


## Implementa√ß√£o de Pagina√ß√£o
- [x] Adicionar controles de pagina√ß√£o na p√°gina Ordem de Servi√ßo
- [x] Adicionar seletor de itens por p√°gina (10, 25, 50, 100)
- [x] Adicionar bot√µes Anterior/Pr√≥xima
- [x] Adicionar indicador de p√°gina atual e total
- [x] Implementar pagina√ß√£o na p√°gina Movimenta√ß√µes
- [x] Adicionar mesmos controles de pagina√ß√£o
- [x] Testar navega√ß√£o entre p√°ginas


## Corre√ß√£o de Formata√ß√£o de Valores
- [x] Corrigir formata√ß√£o de moeda na p√°gina Estoque (R$ 256496.00 ‚Üí R$ 2.564,96)
- [x] Usar Intl.NumberFormat para formata√ß√£o correta (R$ 1.234,56)
- [x] Corrigir valores na tabela de produtos
- [x] Corrigir c√°lculo de economia no formul√°rio


## Padroniza√ß√£o de Formata√ß√£o de Moeda em Todo o Sistema
- [x] Identificar todas as p√°ginas com valores monet√°rios
- [x] Aplicar Intl.NumberFormat na p√°gina Vendas (PDV) - 9 corre√ß√µes
- [x] Aplicar Intl.NumberFormat na p√°gina Financeiro (Contas a Pagar) - j√° estava correto
- [x] Aplicar Intl.NumberFormat na p√°gina Relat√≥rios - j√° estava correto
- [x] Aplicar Intl.NumberFormat na p√°gina Ordem de Servi√ßo - j√° estava correto
- [x] Aplicar Intl.NumberFormat na p√°gina Dashboard - 1 corre√ß√£o
- [x] Aplicar Intl.NumberFormat na p√°gina Movimenta√ß√µes - j√° estava correto
- [x] Aplicar Intl.NumberFormat na p√°gina Hist√≥rico de Vendas - j√° estava correto
- [x] Aplicar Intl.NumberFormat na p√°gina Comiss√µes - 6 corre√ß√µes
- [x] Aplicar Intl.NumberFormat na p√°gina Estoque - 4 corre√ß√µes


## Sprint 1 - Implementa√ß√£o em Andamento
### Frontend de Notifica√ß√µes In-App
- [x] Criar componente NotificationBell
- [x] Integrar NotificationBell no DashboardLayout
- [x] Criar p√°gina Central de Notifica√ß√µes
- [x] Adicionar rota /notificacoes

### Frontend do Relat√≥rio Avan√ßado de Estoque
- [x] Criar estrutura da p√°gina RelatorioAvancadoEstoque
- [x] Implementar painel de m√©tricas (4 cards)
- [x] Implementar filtros avan√ßados (fornecedor, almoxarifado, grade, checkboxes)
- [x] Implementar tabela de dados completa (6 colunas com ordena√ß√£o)
- [x] Implementar pagina√ß√£o (10/25/50/100 itens)
- [x] Adicionar rota /relatorio-avancado-estoque
- [ ] Implementar exporta√ß√£o Excel (placeholder)
- [ ] Implementar exporta√ß√£o PDF (placeholder)

### Interface de Gest√£o de Comiss√µes
- [ ] Criar formul√°rio de configura√ß√£o de regras
- [ ] Criar lista de regras ativas
- [ ] Criar relat√≥rio detalhado de comiss√µes
- [ ] Adicionar preview de c√°lculo
- [ ] Testar fluxo completo


## Sprint 2 - Implementa√ß√£o em Andamento
### Completar Interface de Gest√£o de Comiss√µes
- [x] Expandir formul√°rio com todos os tipos de regra (Percentual Fixo, Meta Progressiva, B√¥nus por Produto)
- [x] Criar lista de regras ativas com edi√ß√£o e exclus√£o (aba "Regras de Comiss√£o")
- [x] Adicionar preview de c√°lculo em tempo real no formul√°rio
- [x] Criar endpoints backend (listRules, updateRule, deleteRule)
- [x] Adicionar descri√ß√µes dos tipos de regra
- [x] Implementar AlertDialog de confirma√ß√£o de exclus√£o
- [ ] Implementar relat√≥rio detalhado de comiss√µes por per√≠odo (futuro)
- [ ] Criar testes para interface de comiss√µe### Implementar Exporta√ß√£o Real
- [x] Adicionar biblioteca xlsx para exporta√ß√£o Excel
- [x] Implementar exporta√ß√£o Excel no Relat√≥rio Avan√ßado (15 colunas)
- [x] Adicionar biblioteca jspdf e jspdf-autotable para exporta√ß√£o PDF
- [x] Implementar exporta√ß√£o PDF no Relat√≥rio Avan√ßado (tabela formatada)
- [x] Ajustar largura de colunas no Excel
- [x] Adicionar m√©tricas no PDF
- [x] Formatar nomes de arquivo### Adicionar Links de Navega√ß√£o
- [x] Adicionar link "Relat√≥rio Avan√ßado" no menu lateral
- [x] Adicionar √≠cone FileSpreadsheet apropriado
- [x] Posicionar ap√≥s "Estoque" para agrupamento l√≥gico

## Formul√°rio de Emiss√£o Manual de NF-e
- [ ] Criar p√°gina EmissaoNFe.tsx
- [ ] Implementar formul√°rio com dados do emitente
- [ ] Adicionar sele√ß√£o de cliente (destinat√°rio)
- [ ] Implementar sele√ß√£o de produtos com quantidade e valores
- [ ] Adicionar c√°lculo autom√°tico de impostos
- [ ] Criar preview da NF-e antes de emitir
- [ ] Implementar fun√ß√£o de armazenamento de XML no S3
- [ ] Adicionar download de XML e DANFE ap√≥s emiss√£o
- [ ] Criar rota /emissao-nfe no App.tsx
- [ ] Adicionar link no menu lateral
- [ ] Criar testes para emiss√£o manual


## Integra√ß√£o com Gateways de Pagamento
- [ ] Pesquisar API do Mercado Pago (PIX e Cart√£o)
- [ ] Pesquisar API do PagSeguro (PIX e Cart√£o)
- [ ] Pesquisar outras op√ß√µes (Stripe, Asaas, etc.)
- [ ] Criar schema de configura√ß√£o de gateway no banco
- [ ] Implementar backend de integra√ß√£o com Mercado Pago
- [ ] Implementar backend de integra√ß√£o com PagSeguro
- [ ] Criar interface de configura√ß√£o de credenciais
- [ ] Adicionar sele√ß√£o de m√©todo de pagamento no PDV (Dinheiro, Cart√£o, PIX)
- [ ] Implementar gera√ß√£o de QR Code PIX
- [ ] Implementar processamento de pagamento com cart√£o
- [ ] Adicionar webhook para confirma√ß√£o de pagamento
- [ ] Criar testes de integra√ß√£o de pagamentos


## Sprint 3 - Funcionalidades R√°pidas de Alta Prioridade

### Altera√ß√£o de Senhas
- [x] Criar formul√°rio de altera√ß√£o de senha
- [x] Implementar valida√ß√£o de senha atual
- [x] Adicionar requisitos de seguran√ßa (m√≠nimo 8 caracteres, letras e n√∫meros)
- [x] Criar endpoint tRPC changePassword
- [x] Implementar hash bcrypt da nova senha
- [x] Adicionar fun√ß√£o changeUserPassword no db.ts
- [x] Integrar na p√°gina Configura√ß√µes (aba "Alterar Senha")
- [x] Testar fluxo completo de altera√ß√£o

### Personaliza√ß√£o de Categorias Financeiras
- [ ] Criar tabela financialCategories no schema
- [ ] Implementar backend CRUD de categorias
- [ ] Criar endpoints tRPC (listCategories, createCategory, updateCategory, deleteCategory)
- [ ] Criar p√°gina de Configura√ß√£o de Categorias
- [ ] Implementar formul√°rio de cria√ß√£o/edi√ß√£o
- [ ] Adicionar valida√ß√£o de nome √∫nico
- [ ] Integrar com Contas a Pagar/Receber
- [ ] Testar CRUD completo

### Pagina√ß√£o em Outras Listas
- [ ] Implementar pagina√ß√£o na p√°gina Clientes
- [ ] Implementar pagina√ß√£o na p√°gina Produtos (Estoque)
- [ ] Implementar pagina√ß√£o na p√°gina Hist√≥rico de Vendas
- [ ] Implementar pagina√ß√£o na p√°gina NF-e
- [ ] Adicionar controles (10/25/50/100 itens)
- [ ] Testar navega√ß√£o em todas as p√°ginas


## Corre√ß√µes e Melhorias de Recibo
- [x] Corrigir erro "Acesso negado" na p√°gina de vendas
- [x] Verificar autentica√ß√£o na p√°gina Vendas (loading state + redirect)
- [x] Melhorar recibo de venda com dados completos do produto
- [x] IMEI j√° estava no recibo
- [x] Adicionar marca, modelo e categoria no recibo
- [x] Dados do cliente j√° estavam no recibo
- [x] Atualizar getSaleItems para incluir brand, model, category
- [x] Atualizar interface ReceiptProduct
- [x] Atualizar renderiza√ß√£o do recibo PDF


## Corre√ß√µes de Autentica√ß√£o e Erros
- [x] Corrigir erro "Acesso negado" na p√°gina Notas Fiscais
- [x] Corrigir erro "Cannot read properties of undefined (reading 'data')" na p√°gina Notas Fiscais
- [x] Adicionar verifica√ß√£o de autentica√ß√£o (loading state + redirect)
- [x] Adicionar tratamento de dados undefined (data?.result?.data)

## Testes de Recibo
- [ ] Criar testes para validar marca no recibo
- [ ] Criar testes para validar modelo no recibo
- [ ] Criar testes para validar categoria no recibo
- [ ] Criar testes para validar IMEI no recibo
- [ ] Executar todos os testes


## Corre√ß√µes e Melhorias de NF-e
- [ ] Analisar sistema atual de NF-e
- [ ] Identificar problemas na integra√ß√£o
- [ ] Corrigir emiss√£o de NF-e no PDV
- [ ] Corrigir download de XML e DANFE
- [ ] Melhorar interface de visualiza√ß√£o de NF-e
- [ ] Adicionar valida√ß√µes de campos obrigat√≥rios
- [ ] Testar fluxo completo de emiss√£o
- [ ] Criar testes automatizados para NF-e


## Testes Automatizados de NF-e
- [ ] Criar teste de emiss√£o de NF-e com venda
- [ ] Criar teste de c√°lculo de impostos (ICMS, PIS, COFINS)
- [ ] Criar teste de valida√ß√£o de dados do cliente (CPF/CNPJ)
- [ ] Criar teste de valida√ß√£o de produtos na NF-e
- [ ] Criar teste de gera√ß√£o de XML
- [ ] Criar teste de gera√ß√£o de DANFE
- [ ] Criar teste de cancelamento de NF-e
- [ ] Executar todos os testes e garantir 100% de sucesso


## Corre√ß√µes de Layout e Valores do Dashboard
- [x] Analisar layout atual do Dashboard
- [x] Identificar valores que n√£o est√£o aparecendo corretamente (backend retornando zeros)
- [x] Implementar queries reais no backend (vendas hoje, receita total, clientes, produtos, OS abertas, pagamentos pendentes)
- [x] Corrigir formata√ß√£o de valores monet√°rios (fun√ß√£o formatCurrency)
- [x] Corrigir layout responsivo (grid sm:grid-cols-2 lg:grid-cols-3)
- [x] Melhorar espa√ßamento e alinhamento dos cards (padding responsivo)
- [x] Criar testes automatizados do Dashboard (5 testes passando)
- [x] Testar Dashboard em diferentes resolu√ß√µes


## Bot√£o de Voltar - Melhorias de Navega√ß√£o
- [ ] Identificar p√°ginas que precisam de bot√£o voltar
- [ ] Adicionar bot√£o voltar no cabe√ßalho das p√°ginas
- [ ] Implementar navega√ß√£o com router.back() ou rota espec√≠fica
- [ ] Testar navega√ß√£o em todas as p√°ginas
- [ ] Garantir que bot√£o voltar funciona corretamente


## Bug: Erro de Autentica√ß√£o em Configura√ß√µes
- [ ] Corrigir erro "Acesso negado" na p√°gina /configuracoes
- [ ] Adicionar verifica√ß√£o de autentica√ß√£o (useAuth)
- [ ] Adicionar loading state e redirect
- [ ] Testar acesso √† p√°gina ap√≥s corre√ß√£o


## An√°lise de Mercado e Precifica√ß√£o
- [ ] Pesquisar sistemas concorrentes (Tiny ERP, Bling, Omie, etc)
- [ ] Comparar funcionalidades do CellSync com concorrentes
- [ ] Analisar modelos de precifica√ß√£o do mercado
- [ ] Criar relat√≥rio de an√°lise competitiva
- [ ] Sugerir estrat√©gia de precifica√ß√£o para CellSync


## An√°lise de Mercado e Precifica√ß√£o - Conclu√≠da
- [x] Pesquisar sistemas concorrentes no mercado brasileiro (ReparaOS, MercadoPhone, VHSys, Bling)
- [x] Analisar funcionalidades e pre√ßos dos concorrentes
- [x] Comparar funcionalidades do CellSync com concorrentes
- [x] Criar relat√≥rio completo de an√°lise de mercado (analise_mercado_precificacao.md)
- [x] Definir estrat√©gia de precifica√ß√£o (3 planos: Starter R$ 79,90, Professional R$ 129,90, Enterprise R$ 199,90)
- [x] Projetar receita e viabilidade financeira
- [x] Definir estrat√©gias de go-to-market


## Rebrand: CellSync ‚Üí CellSync
- [x] Criar logo profissional do CellSync (cellsync-logo.png, cellsync-icon.png)
- [x] Pesquisar tend√™ncias de cores 2025 (paletas suaves + acentos ousados, gradientes fluidos)
- [x] Definir paleta de cores moderna (azul #3B82F6, roxo #A855F7, rosa #EC4899)
- [x] Redesenhar landing page (Home.tsx) com nova identidade visual moderna
- [x] Atualizar CSS global (index.css) com cores do CellSync
- [x] Renomear "CellSync" para "CellSync" em todo o c√≥digo
- [x] Atualizar favicon e meta tags (cellsync-icon.png, Google Fonts Inter)
- [x] Atualizar documenta√ß√£o (todos os .md files)
- [x] Criar documento de identidade visual (BRAND_IDENTITY.md)
- [x] Verificar landing page com nova identidade (gradiente azul‚Üíroxo‚Üírosa funcionando perfeitamente)

**Nota**: VITE_APP_TITLE e VITE_APP_LOGO devem ser atualizados manualmente via Settings ‚Üí General no painel web


## Anima√ß√µes e √çcones Modernos - Landing Page
- [x] Instalar Framer Motion
- [x] Modernizar √≠cones com anima√ß√µes (hover rotate 360¬∞, scale 1.1)
- [x] Aplicar gradientes vibrantes nos √≠cones e cards (azul‚Üíroxo‚Üírosa)
- [x] Implementar fade-in + slide-up no Hero Section (logo, t√≠tulo, CTAs)
- [x] Adicionar stagger animations nos cards de features (delay progressivo)
- [x] Implementar scroll-triggered animations (whileInView)
- [x] Adicionar micro-intera√ß√µes (hover scale, y-offset, gradiente reverso)
- [x] Adicionar loading spinner animado com gradiente


## Bug: Layout da P√°gina Vendas (PDV)
- [x] Corrigir sobreposi√ß√£o de texto dos atalhos sobre o bot√£o "Atacado"
- [x] Reorganizar header da p√°gina (PageHeader separado + barra de controles)
- [x] Modernizar bot√µes Varejo/Atacado com gradiente azul‚Üíroxo
- [x] Criar badges visuais para atalhos de teclado (F2, F3, F4, ESC)
- [x] Garantir responsividade dos atalhos em mobile (flex-wrap)


## Bug: Erro de Autentica√ß√£o em Vendas
- [x] Corrigir queries sendo executadas sem autentica√ß√£o
- [x] Adicionar enabled: !!user nas queries tRPC (products.list, customers.list)

## Moderniza√ß√£o do Dashboard Interno
- [x] Aplicar gradientes coloridos nos 6 cards (azul‚Üícyan, verde‚Üíesmeralda, roxo‚Üírosa, laranja‚Üí√¢mbar, vermelho‚Üírose, amarelo‚Üílaranja)
- [x] Modernizar √≠cones com backgrounds em gradiente
- [x] Adicionar anima√ß√µes Framer Motion (fade-in, slide-up, hover y:-8px, rotate 360¬∞)
- [x] Adicionar sombras modernas (hover:shadow-2xl) e bordas arredondadas (rounded-2xl)
- [x] Criar se√ß√£o de Insights R√°pidos (Taxa de Convers√£o, Ticket M√©dio, Taxa de Ocupa√ß√£o)
- [x] Loading skeleton com gradiente animado
- [ ] Criar seletor de tema (claro/escuro/colorido) - pr√≥xima fase
- [ ] Permitir personaliza√ß√£o de cores de fundo - pr√≥xima fase


## Moderniza√ß√£o da Sidebar (DashboardLayout)
- [x] Aplicar gradientes coloridos nos 11 √≠cones da navega√ß√£o
- [x] Criar backgrounds coloridos para cada item (11 gradientes √∫nicos)
- [x] Adicionar anima√ß√µes hover (scale 1.1, rotate 5¬∞, shadow)
- [x] Destacar item ativo com gradiente vibrante + barra lateral colorida
- [x] Implementar transi√ß√µes suaves com Framer Motion (fade-in, slide-in, layoutId)
- [x] Melhorar espa√ßamento e padding dos itens (h-11, space-y-1)
- [x] √çcone branco em fundo gradiente quando ativo
- [x] Hover effect com gradiente suave em itens inativos


## Bug: Erros de Autentica√ß√£o em M√∫ltiplas P√°ginas
- [x] Corrigir Financeiro (3 queries)
- [x] Corrigir Clientes (1 query)
- [x] Corrigir Comissoes (3 queries)
- [x] Corrigir Estoque (1 query)
- [x] Corrigir Movimentacoes (3 queries)
- [x] Corrigir NotasFiscais (2 queries)
- [x] Corrigir Notificacoes (2 queries)
- [x] Corrigir RelatorioAvancadoEstoque (3 queries)
- [x] Corrigir Relatorios (6 queries)
- [x] Total: 24 queries protegidas com autentica√ß√£o!

## Modernizar P√°gina de Login
- [x] Substituir logo "OK" azul pelo logo CellSync com gradiente (/cellsync-icon.png)
- [x] Aplicar gradientes coloridos (azul‚Üíroxo‚Üírosa) no fundo e t√≠tulo
- [x] Adicionar anima√ß√µes Framer Motion (fade-in, slide-up, scale)
- [x] Modernizar bot√£o "Entrar" com gradiente vibrante + hover scale
- [x] Atualizar fundo com gradiente suave + c√≠rculos animados
- [x] Inputs com focus roxo (border-purple-500)

## Renomear CellSync ‚Üí CellSync (Completo)
- [ ] Verificar se ainda existem refer√™ncias a "CellSync" no c√≥digo
- [ ] Renomear todas as ocorr√™ncias restantes
- [ ] Atualizar vari√°veis de ambiente via webdev_edit_secrets (VITE_APP_TITLE)

## Dark Mode Implementation
- [ ] Criar ThemeContext para gerenciar tema globalmente
- [ ] Implementar toggle button (Sol/Lua) no DashboardLayout header
- [ ] Salvar prefer√™ncia no localStorage
- [ ] Ajustar paleta de cores para dark mode (slate-900, slate-800)
- [ ] Ajustar gradientes para vers√µes mais vibrantes em dark
- [ ] Adicionar transi√ß√µes suaves ao alternar temas
- [ ] Testar dark mode em todas as p√°ginas


## Finaliza√ß√£o do Sistema - Pend√™ncias Priorit√°rias

### Script de Seed de Dados
- [x] Criar script de seed com dados de exemplo
- [x] Popular usu√°rios (admin, vendedores, t√©cnicos)
- [x] Popular produtos (celulares, acess√≥rios, pe√ßas)
- [x] Popular clientes com hist√≥rico
- [ ] Completar popular vendas com comiss√µes
- [ ] Completar popular OS com pe√ßas utilizadas
- [ ] Completar popular contas a pagar e receber
- [ ] Completar popular NF-e emitidas

### Interface de Notifica√ß√µes
- [x] Backend de notifica√ß√µes autom√°ticas implementado
- [ ] Criar interface frontend de notifica√ß√µes in-app
- [ ] Adicionar dropdown de notifica√ß√µes no header
- [ ] Implementar p√°gina completa de notifica√ß√µes
- [ ] Adicionar badges de contagem na sidebar

### Gest√£o de Usu√°rios
- [ ] Implementar altera√ß√£o de senhas de usu√°rios
- [ ] Criar formul√°rio de troca de senha
- [ ] Adicionar valida√ß√£o de senha forte

### Notas Fiscais
- [ ] Implementar formul√°rio de emiss√£o manual de NF-e
- [ ] Criar armazenamento de XMLs no S3
- [ ] Adicionar download de XML e PDF

### Comiss√µes
- [ ] Adicionar interface de configura√ß√£o de regras de comiss√£o
- [ ] Implementar relat√≥rio de comiss√µes por per√≠odo
- [ ] Criar testes para c√°lculo de comiss√µes


## Formul√°rio de Emiss√£o Manual de NF-e
- [x] Criar backend para emiss√£o manual (procedure nfe.emit)
- [x] Implementar armazenamento de XMLs no S3 (storagePut integrado)
- [x] Criar formul√°rio multi-step (5 etapas: Emitente, Destinat√°rio, Produtos, Impostos, Confirma√ß√£o)
- [x] Implementar valida√ß√µes de campos obrigat√≥rios por etapa
- [x] Adicionar c√°lculo autom√°tico de totais (ICMS 18%, PIS 1.65%, COFINS 7.6%)
- [x] Criar preview completo da nota antes de emitir (etapa 5)
- [x] Implementar gera√ß√£o de XML (usa generateNFeXML existente)
- [x] Adicionar upload autom√°tico do XML para S3 ap√≥s emiss√£o
- [x] Gera√ß√£o de chave de acesso (44 d√≠gitos)
- [x] Adicionar rota /emitir-nfe no App.tsx
- [x] Adicionar bot√£o "Emiss√£o Manual" com gradiente na p√°gina Notas Fiscais
- [x] Anima√ß√µes Framer Motion no stepper e transi√ß√µes
- [x] Adicionar/remover itens dinamicamente
- [ ] Testar emiss√£o completa com dados reais


## Criar Usu√°rio Admin para Bruno
- [ ] Criar script para adicionar usu√°rio Bruno com senha admin
- [ ] Executar script e validar cria√ß√£o
- [ ] Testar login com credenciais do Bruno

## Renomea√ß√£o Completa: CellSync ‚Üí CellSync
- [ ] Buscar todas as refer√™ncias "CellSync" no c√≥digo
- [x] Buscar todas as refer√™ncias "okcells" (min√∫sculas)
- [ ] Renomear em arquivos .ts, .tsx, .js, .mjs
- [ ] Renomear em arquivos de configura√ß√£o (.json, .env)
- [ ] Atualizar coment√°rios e documenta√ß√£o
- [ ] Atualizar credenciais de seed (admin@cellsync.com)
- [ ] Atualizar vari√°veis de ambiente via webdev_edit_secrets
- [ ] Testar sistema completo ap√≥s renomea√ß√£o

## Bug Reportado - Login n√£o redireciona
- [x] Investigar por que login mostra sucesso mas n√£o redireciona para dashboard
- [x] Verificar se cookie est√° sendo salvo corretamente
- [x] Verificar se useAuth est√° lendo o cookie
- [x] Ajustar sameSite de "none" para "lax" no cookie
- [ ] Testar fluxo completo de autentica√ß√£o com Bruno

## Implementa√ß√£o de Dark Mode Completo
- [x] Verificar ThemeContext existente
- [x] Criar toggle de Dark Mode no header do DashboardLayout
- [x] Adicionar √≠cones de sol/lua com anima√ß√µes
- [x] Implementar persist√™ncia no localStorage
- [x] Atualizar vari√°veis CSS para dark mode (.dark)
- [x] Testar dark mode em todas as p√°ginas principais
- [x] Garantir contraste adequado em todos os componentes
- [x] Adicionar transi√ß√µes suaves entre temas

## IA Assistente para Cadastro de Produtos
- [x] Criar m√≥dulo backend ai-product-assistant.ts com fun√ß√£o de an√°lise
- [x] Integrar invokeLLM para an√°lise inteligente de produtos
- [x] Criar endpoint tRPC ai.analyzeProduct
- [x] Adicionar bot√£o "Preencher com IA" no formul√°rio de produtos
- [x] Implementar loading state durante an√°lise
- [x] Preencher automaticamente marca, modelo e categoria
- [x] Adicionar feedback visual de sucesso/erro
- [ ] Testar com diferentes tipos de produtos (iPhone, Samsung, Xiaomi, acess√≥rios)
- [ ] Criar testes unit√°rios para an√°lise de IA

## Interface de Importa√ß√£o de Produtos
- [x] Criar endpoint tRPC products.importBulk
- [x] Criar p√°gina ImportarProdutos.tsx
- [x] Adicionar textarea para colar dados CSV
- [x] Implementar parser de CSV/TSV
- [x] Adicionar preview dos dados antes de importar
- [x] Implementar valida√ß√£o de campos
- [x] Adicionar feedback de progresso
- [x] Adicionar rota no menu lateral
- [ ] Testar importa√ß√£o com dados reais

## IA Assistente para Diagn√≥stico de OS
- [x] Criar m√≥dulo backend ai-os-assistant.ts
- [x] Integrar invokeLLM para an√°lise de problemas
- [x] Criar endpoint tRPC ai.diagnoseServiceOrder
- [x] Adicionar suporte a an√°lise de imagem (foto do aparelho)
- [x] Atualizar endpoint para aceitar URL de imagem
- [x] Adicionar upload de foto no formul√°rio de OS
- [x] Adicionar bot√£o "Diagnosticar com IA" no formul√°rio de OS
- [x] Implementar sugest√µes de defeito, solu√ß√£o e pe√ßas
- [x] Adicionar estimativa de tempo e custo
- [x] Implementar loading state durante an√°lise
- [x] Adicionar feedback visual com n√≠vel de confian√ßa
- [ ] Testar com diferentes tipos de problemas (tela quebrada, bateria, software, √°gua)
- [ ] Testar an√°lise com fotos de aparelhos danificados

## Importa√ß√£o Autom√°tica de Planilhas
- [x] Criar script Node.js para ler CSV
- [x] Importar dados de Relat√≥riodoEstoque(1).csv
- [x] Verificar dados importados no banco
- [x] Confirmar total de produtos cadastrados (41 produtos)

## Sistema de Gera√ß√£o de Etiquetas
- [x] Instalar bibliotecas: bwip-js (c√≥digo de barras), qrcode (QR code)
- [x] Criar endpoint tRPC para gerar c√≥digo de barras
- [x] Criar endpoint tRPC para gerar QR code
- [x] Criar p√°gina GerarEtiquetas.tsx
- [x] Implementar sele√ß√£o de produtos para etiquetas
- [x] Adicionar 3 templates de tamanho (Pequena, M√©dia, Vitrine)
- [x] Implementar preview em tempo real
- [x] Adicionar op√ß√£o de quantidade de c√≥pias por produto
- [x] Implementar impress√£o direta (window.print)
- [x] Criar rota no menu lateral
- [ ] Testar impress√£o em diferentes tamanhos com produtos reais

## Atualiza√ß√£o de Pre√ßos e Estoque
- [x] Verificar se tabela products tem campos wholesalePrice e currentStock
- [x] Criar script de atualiza√ß√£o update-prices-stock.mjs
- [x] Ler Produtos(2).csv e extrair pre√ßos de atacado/varejo e quantidade
- [x] Atualizar 153 produtos com pre√ßos corretos
- [x] Atualizar saldos de estoque
- [x] Verificar dados atualizados no banco

## Bug - Login no Mobile n√£o Redireciona
- [ ] Investigar por que login mostra sucesso no celular mas n√£o redireciona
- [ ] Verificar se cookie est√° sendo salvo no navegador mobile
- [ ] Verificar se useAuth est√° detectando usu√°rio logado no mobile
- [ ] Testar redirecionamento ap√≥s login no mobile
- [ ] Verificar se h√° diferen√ßa entre desktop e mobile
- [ ] Corrigir problema de redirecionamento mobile

## Problema - M√≥dulos n√£o aparecem no menu
- [ ] Verificar se "Gerar Etiquetas" est√° no menu lateral
- [ ] Verificar se "Importar Produtos" est√° no menu lateral
- [ ] Verificar ordem dos itens no menu
- [ ] Garantir que todos os m√≥dulos implementados apare√ßam

## Melhorias no Estilo das Etiquetas
- [x] Melhorar layout do preview das etiquetas
- [x] Aumentar destaque do pre√ßo (fonte maior e negrito)
- [x] Melhorar posicionamento do c√≥digo de barras
- [x] Melhorar visibilidade do QR Code (borda e arredondamento)
- [x] Ajustar espa√ßamento e cores (gradientes sutis)
- [x] Tornar layout mais profissional (caixa de pre√ßo destacada)

## Sistema Multi-Tenant + Pagamento Stripe
- [x] Adicionar feature Stripe ao projeto (webdev_add_feature)
- [x] Criar tabela tenants (id, nome, subdom√≠nio, plano, status)
- [x] Criar tabela plans (id, nome, pre√ßo, limites)
- [x] Criar tabela subscriptions (tenant_id, stripe_subscription_id, status)
- [x] Definir 3 planos baseados em pesquisa:
  * B√°sico: R$ 97/m√™s - 1 usu√°rio, 500 produtos
  * Profissional: R$ 197/m√™s - 5 usu√°rios, ilimitado + IA
  * Empresarial: R$ 397/m√™s - ilimitado, white-label
- [x] Popular planos no banco de dados (seed-plans.mjs)
- [x] Criar integra√ß√£o com Stripe (stripe-integration.ts)
- [x] Criar endpoints tRPC para listar planos
- [x] Criar endpoint tRPC para checkout
- [x] Criar p√°gina de planos (/planos) com design moderno
- [x] Implementar toggle mensal/anual com desconto de 17%
- [x] Adicionar cards de planos com features e limites
- [ ] Configurar produtos no Stripe Dashboard
- [ ] Testar checkout completo com cart√£o de teste
- [ ] Adicionar campo tenant_id em todas as tabelas principais (futuro)
- [ ] Implementar middleware de isolamento de dados por tenant (futuro)
- [ ] Criar webhooks Stripe para renova√ß√£o/cancelamento (futuro)
- [ ] Criar painel administrativo de tenants (futuro)
- [ ] Implementar m√©tricas de receita MRR, churn (futuro)

## Bug - Planos n√£o aparecem na p√°gina /planos
- [x] Verificar se planos foram salvos no banco de dados (3 planos encontrados)
- [x] Verificar se endpoint tRPC est√° funcionando (erro: db.select is not a function)
- [x] Corrigir db-plans.ts para usar getDb() ao inv√©s de import direto
- [x] Testar endpoint novamente (funcionando!)
- [x] Validar exibi√ß√£o dos planos

## Revis√£o Completa do M√≥dulo de Comiss√µes
- [ ] Verificar se p√°gina de comiss√µes est√° acess√≠vel
- [ ] Testar c√°lculo autom√°tico de comiss√µes nas vendas
- [ ] Verificar relat√≥rio de comiss√µes por vendedor
- [ ] Testar aprova√ß√£o de comiss√µes
- [ ] Verificar integra√ß√£o com financeiro
- [ ] Validar dashboard de ranking de vendedores
- [ ] Corrigir problemas encontrados


## Corre√ß√£o de Bugs
- [ ] Corrigir erro "Unexpected token '<', "<!doctype "... is not valid JSON" na p√°gina inicial


## PDV Mobile Responsivo
- [x] Criar interface mobile otimizada para vendas
- [x] Implementar busca r√°pida de produtos com scanner
- [x] Adicionar sele√ß√£o de vendedor e cliente mobile-friendly
- [x] Criar carrinho de compras mobile com gestos
- [x] Implementar finaliza√ß√£o de venda r√°pida
- [x] Adicionar suporte a pagamentos mobile

## Interface Multi-Tenant para Manuten√ß√£o Remota
- [x] Criar hook useActiveTenant para gerenciar tenant ativo
- [x] Criar componente TenantSwitcher com dropdown de sele√ß√£o
- [x] Adicionar badge "Modo Manuten√ß√£o" quando acessando outro tenant
- [x] Implementar bot√£o "Voltar ao Meu Tenant"
- [x] Integrar TenantSwitcher no header do DashboardLayout
- [x] Adicionar √≠cone de pr√©dio (Building2) no dropdown
- [x] Mostrar lista de todos os tenants para master_admin
- [x] Adicionar indicador visual do tenant pr√≥prio (√≠cone üè†)
- [x] Implementar recarregamento autom√°tico ap√≥s troca
- [x] Criar backend tenantSwitching router
- [x] Criar backend tenantManagement router
- [x] Adicionar role master_admin ao schema
- [x] Criar seed de tenants de teste
- [x] Criar usu√°rio master_admin de teste

## Painel de Suporte ao Cliente (Master Admin)
- [x] Criar p√°gina /suporte-clientes para master_admin
- [x] Adicionar tabela com lista de todos os tenants
- [x] Implementar bot√£o "Acessar Remotamente" em cada linha
- [x] Adicionar cards de estat√≠sticas (total, ativos, trial, suspensos)
- [x] Implementar filtros por status (ativo, trial, suspenso, cancelado)
- [x] Adicionar campo de busca por nome/subdom√≠nio
- [x] Adicionar item "Suporte ao Cliente" no menu lateral
- [x] Tornar item vis√≠vel apenas para master_admin
- [x] Corrigir query tenantManagement.list para retornar dados
- [x] Testar acesso remoto aos tenants
- [x] Reiniciar servidor para aplicar novos routers tRPC

## Chatbot Inteligente com Gemini - Landing Page
- [x] Criar componente SalesChatbot com interface moderna
- [x] Integrar Gemini API para respostas inteligentes
- [x] Configurar prompt com informa√ß√µes da plataforma CellSync
- [x] Adicionar compara√ß√µes com concorrentes (Bling, Tiny ERP, Omie)
- [x] Implementar bot√£o flutuante na p√°gina inicial
- [x] Adicionar anima√ß√µes de digita√ß√£o e transi√ß√µes suaves
- [x] Testar conversas e ajustar respostas
- [ ] Criar testes para integra√ß√£o com Gemini

## Analytics do Chatbot
- [x] Criar tabela chatbot_conversations no schema
- [x] Criar tabela chatbot_messages no schema
- [x] Criar tabela chatbot_events no schema (convers√µes, cliques em CTA)
- [x] Implementar procedure chatAnalytics.trackConversation
- [x] Implementar procedure chatAnalytics.trackMessage
- [x] Implementar procedure chatAnalytics.trackEvent
- [x] Implementar procedure chatAnalytics.getMetrics (perguntas frequentes, taxa de convers√£o)
- [x] Integrar rastreamento no componente SalesChatbot
- [x] Criar p√°gina ChatbotAnalytics.tsx com dashboard de m√©tricas
- [x] Adicionar gr√°ficos de perguntas mais frequentes
- [x] Adicionar gr√°fico de taxa de convers√£o
- [x] Adicionar m√©tricas de tempo m√©dio de resposta
- [x] Adicionar m√©tricas de engajamento (mensagens por sess√£o)
- [x] Testar rastreamento de eventos
- [x] Adicionar item "Analytics do Chatbot" no menu lateral (apenas master_admin)

## Sistema de Chamados/Tickets de Suporte
- [x] Criar tabela support_tickets no schema
- [x] Criar tabela support_ticket_messages no schema (conversas do ticket)
- [x] Implementar procedure supportTickets.create (usu√°rios abrem chamados)
- [x] Implementar procedure supportTickets.list (listar tickets do usu√°rio)
- [x] Implementar procedure supportTickets.listAll (super master v√™ todos)
- [x] Implementar procedure supportTickets.getById (detalhes do ticket)
- [x] Implementar procedure supportTickets.addMessage (adicionar resposta)
- [x] Implementar procedure supportTickets.updateStatus (aberto, em andamento, resolvido, fechado)
- [x] Criar p√°gina MeusChamados.tsx (usu√°rios veem seus tickets)
- [x] Criar formul√°rio de abertura de novo chamado
- [x] Criar p√°gina GerenciarChamados.tsx (super master v√™ todos os tickets)
- [x] Adicionar filtros por status (aberto, em andamento, resolvido, fechado)
- [x] Adicionar sistema de prioridade (baixa, m√©dia, alta, urgente)
- [x] Adicionar categorias (d√∫vida, problema t√©cnico, solicita√ß√£o de recurso, bug)
- [x] Implementar notifica√ß√£o quando novo chamado √© aberto
- [ ] Implementar notifica√ß√£o quando chamado recebe resposta
- [x] Adicionar item "Meus Chamados" no menu lateral (todos os usu√°rios)
- [x] Adicionar item "Gerenciar Chamados" no menu lateral (apenas master_admin)
- [x] Testar abertura e resposta de chamados

## IA Assistente no Sistema de Chamados
- [ ] Criar m√≥dulo backend ai-ticket-assistant.ts com an√°lise inteligente
- [ ] Implementar an√°lise autom√°tica do problema descrito
- [ ] Criar sugest√µes autom√°ticas de solu√ß√£o baseadas no hist√≥rico
- [ ] Implementar categoriza√ß√£o autom√°tica do chamado
- [ ] Implementar prioriza√ß√£o autom√°tica baseada em urg√™ncia detectada
- [ ] Criar base de conhecimento com artigos de ajuda
- [ ] Implementar busca sem√¢ntica na base de conhecimento
- [ ] Adicionar sugest√µes de artigos relacionados ao problema
- [ ] Criar endpoint tRPC ai.analyzeTicket
- [ ] Criar endpoint tRPC ai.suggestSolutions
- [ ] Criar endpoint tRPC ai.searchKnowledgeBase
- [ ] Integrar IA no formul√°rio de abertura de chamados
- [ ] Adicionar bot√£o "Obter Ajuda da IA" no formul√°rio
- [ ] Mostrar sugest√µes autom√°ticas antes de criar o ticket
- [ ] Implementar feedback "Isso resolveu?" para treinar IA
- [ ] Adicionar se√ß√£o "Artigos Relacionados" no ticket
- [ ] Criar p√°gina de Base de Conhecimento (/base-conhecimento)
- [ ] Implementar CRUD de artigos de ajuda (apenas master_admin)
- [ ] Adicionar tags e categorias nos artigos
- [ ] Implementar busca inteligente de artigos
- [ ] Testar IA com diferentes tipos de problemas
- [ ] Criar testes unit√°rios para an√°lise de tickets

## P√°ginas Faltantes (404) - Corre√ß√£o Urgente
- [x] Criar p√°gina ImportarXML.tsx (rota: /importar-xml)
- [x] Criar p√°gina ImportarPlanilha.tsx (rota: /importar-planilha)
- [x] Criar p√°gina Vendedores.tsx (rota: /vendedores)
- [x] Criar p√°gina LiberacaoModulos.tsx (rota: /liberacao-modulos)
- [x] Criar p√°gina AdminMaster.tsx (rota: /admin-master)
- [x] Adicionar rotas faltantes no App.tsx
- [x] Criar endpoints tRPC necess√°rios (backup.list, backup.runNow, etc)
- [ ] Testar todos os menus ap√≥s corre√ß√£o

## Corre√ß√£o Bot√£o "Saiba Mais" - P√°gina de Planos
- [x] Verificar bot√£o "Saiba Mais" na p√°gina /planos
- [x] Implementar checkout do Stripe para planos pagos
- [x] Implementar trial gratuito de 14 dias
- [x] Criar fluxo de contrata√ß√£o completo
- [x] Redirecionar para dashboard ap√≥s contrata√ß√£o
- [ ] Testar checkout com cart√£o de teste do Stripe
- [ ] Validar webhook de confirma√ß√£o de pagamento

## Configura√ß√£o Stripe - Produtos e Price IDs
- [x] Criar produto "Plano B√°sico" no Stripe
- [x] Criar Price ID mensal para Plano B√°sico
- [x] Criar Price ID anual para Plano B√°sico
- [x] Criar produto "Plano Profissional" no Stripe
- [x] Criar Price ID mensal para Plano Profissional
- [x] Criar Price ID anual para Plano Profissional
- [x] Criar produto "Plano Enterprise" no Stripe
- [x] Criar Price ID mensal para Plano Enterprise
- [x] Criar Price ID anual para Plano Enterprise
- [x] Atualizar banco de dados com Price IDs
- [ ] Testar checkout com cart√£o de teste
- [ ] Validar webhook de confirma√ß√£o

## Corre√ß√£o Bot√£o "Saiba Mais" - P√°gina Inicial
- [x] Verificar bot√£o "Saiba Mais" na p√°gina inicial (Home.tsx)
- [x] Corrigir link/a√ß√£o do bot√£o
- [x] Testar redirecionamento para p√°gina de planos
- [x] Validar funcionamento completo

## Corre√ß√£o Erro JSON.parse - P√°gina Planos
- [x] Investigar erro "Unexpected token 'G'" no JSON.parse
- [x] Corrigir parsing do campo features
- [x] Testar p√°gina /planos sem erros
- [x] Validar todos os planos carregam corretamente
